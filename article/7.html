<!DOCTYPE html><html><head><meta charset="UTF-8"><title> 🐍파이썬 리스트 복사하기 </title><meta name="viewport" content="width=device-width, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta property="og:title" content="🐍파이썬 리스트 복사하기"><meta property="og:image" content="https://user-images.githubusercontent.com/60086878/95056968-6fc5f100-0730-11eb-8359-b6f389b8c468.jpeg"><meta property="og:description" content="Python Data Structure"><meta name="twitter:title" content="🐍파이썬 리스트 복사하기"><meta name="twitter:image" content="https://user-images.githubusercontent.com/60086878/95056968-6fc5f100-0730-11eb-8359-b6f389b8c468.jpeg"><meta name="twitter:description" content="Python Data Structure"><meta name="twitter:card" content="summary_large_image"><meta name="robots" content="index,follow"><link rel="preload" href="/init.366dd74d.css" as="style"><link rel="preload" href="/article.e1e8064f.css" as="style"><link rel="canonical" href="https://inkkim.github.io/article/7.html"><link rel="shortcut icon" href="/favicon.a35c33cf.ico" type="image/x-icon"><link rel="stylesheet" href="/init.366dd74d.css"><link rel="stylesheet" href="/article.e1e8064f.css"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-179600475-1"></script><script>function a(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],a("js",new Date),a("config","UA-179600475-1");</script></head><body> <header id="top-container" role="navigation"> </header> <main id="main-container"> <article id="article-container"> <h1 id="article-title"> 🐍파이썬 리스트 복사하기 </h1> <h2 id="article-subtitle"> Python Data Structure </h2> <time id="article-date"> 2020.12.27 </time> <section id="article-content-container"> <details><summary>Table of Contents</summary>
<p><div class="table-of-contents"><ul><li><a href="#%ED%8C%8C%EC%9D%B4%EC%8D%AC-%EB%A6%AC%EC%8A%A4%ED%8A%B8-%EB%B3%B5%EC%82%AC-%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%95%A0%EA%B9%8C%3F">파이썬 리스트 복사 어떻게 할까?</a><ul><li><a href="#%EA%B7%B8%EB%83%A5-%EC%83%88%EB%A1%9C%EC%9A%B4-%EB%B3%80%EC%88%98%EC%97%90-%EC%A0%95%EC%9D%98%ED%95%B4%EC%A3%BC%EB%A9%B4-%EB%90%98%EB%8A%94%EA%B1%B0-%EC%95%84%EB%83%90-%F0%9F%A4%94%E2%9D%93">그냥 새로운 변수에 정의해주면 되는거 아냐 🤔❓</a></li><li><a href="#%EC%95%84%EB%8B%88-%EC%9D%B4%EA%B2%8C-%EC%99%9C-%EC%95%88%EB%8F%BC-%F0%9F%90%A5%E2%9D%93">아니 이게 왜 안돼 🐥❓</a></li><li><a href="#%EA%B7%B8%EB%9F%BC-%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%95%B4%EC%95%BC-%ED%95%98%EB%8A%94%EB%8D%B0-%F0%9F%98%B2%E2%9D%93">그럼 어떻게 해야 하는데 😲❓</a><ul><li><a href="#1)-%EC%8A%AC%EB%9D%BC%EC%9D%B4%EC%8B%B1">1) 슬라이싱</a></li><li><a href="#2)-list()-%ED%95%A8%EC%88%98">2) list() 함수</a></li><li><a href="#3)-copy()-%EB%A9%94%EC%86%8C%EB%93%9C">3) copy() 메소드</a></li><li><a href="#4)-%EB%A6%AC%EC%8A%A4%ED%8A%B8-%EC%97%B0%EC%82%B0">4) 리스트 연산</a></li></ul></li><li><a href="#%EA%B2%80%EC%A6%9D">검증</a></li></ul></li><li><a href="#%EC%B0%B8%EA%B3%A0">참고</a></li></ul></div></p>
</details>
<h1 id="%ED%8C%8C%EC%9D%B4%EC%8D%AC-%EB%A6%AC%EC%8A%A4%ED%8A%B8-%EB%B3%B5%EC%82%AC-%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%95%A0%EA%B9%8C%3F">파이썬 리스트 복사 어떻게 할까?</h1>
<p><img src="https://user-images.githubusercontent.com/60086878/103172222-58ad2000-4895-11eb-8b48-af1a20a62d1d.png" alt=""></p>
<blockquote>
<p>Photo by Zdeněk Macháček on Unsplash</p>
</blockquote>
<p>오늘은 상당히 기초적이면서도 쉽게 실수 할 수 있는 부분을 다뤄보고자 한다. 바로 나를 포함한 초보자들이 실수할 수 있는 파이썬 리스트를 다른 리스트에 복사하는 방법이다.</p>
<h2 id="%EA%B7%B8%EB%83%A5-%EC%83%88%EB%A1%9C%EC%9A%B4-%EB%B3%80%EC%88%98%EC%97%90-%EC%A0%95%EC%9D%98%ED%95%B4%EC%A3%BC%EB%A9%B4-%EB%90%98%EB%8A%94%EA%B1%B0-%EC%95%84%EB%83%90-%F0%9F%A4%94%E2%9D%93">그냥 새로운 변수에 정의해주면 되는거 아냐 🤔❓</h2>
<pre class="hljs"><code>&gt;&gt;&gt; list1 = [1, 2, 3, 4]
&gt;&gt;&gt; list2 = list1

&gt;&gt;&gt; print(list1)
[1, 2, 3, 4]
&gt;&gt;&gt; print(list2)
[1, 2, 3, 4]
</code></pre>
<p>위 예제의 결과만 보면 파이썬이 워낙 간편하다보니 별 의심없이 잘 복사됐다고 생각할 수 있다. 하지만 정확히 말하면 <code>list2</code>는 <code>list1</code>의 메모리 주소값을 복사한 것이다. 즉, 같은 메모리를 참조하기 때문에 <code>list1</code>이 수정되면 <code>list2</code>도 동시에 수정된다. 하지만 이것을 간과하고 열심히 코드를 짜다보면 나중에 깊은 오류의 구렁텅이에 빠질 수 있다. 혹시나 그런 오류에 빠진 사람들이 이 글을 보고 도움이 되었으면 좋겠다 :)</p>
<h2 id="%EC%95%84%EB%8B%88-%EC%9D%B4%EA%B2%8C-%EC%99%9C-%EC%95%88%EB%8F%BC-%F0%9F%90%A5%E2%9D%93">아니 이게 왜 안돼 🐥❓</h2>
<pre class="hljs"><code>&gt;&gt;&gt; list1 = [1, 2, 3, 4]
&gt;&gt;&gt; list2 = list1

&gt;&gt;&gt; print('list1 :', list1, '/ id :', id(list1))
list1 : [1, 2, 3, 4] / id : 4552076160
&gt;&gt;&gt; print('list2 :', list2, '/ id :', id(list2))
list2 : [1, 2, 3, 4] / id : 4552076160

&gt;&gt;&gt; list1[0] = 11

&gt;&gt;&gt; print('list1 :', list1)
list1 : [11, 2, 3, 4] 
&gt;&gt;&gt; print('list2 :', list2)
list2 : [11, 2, 3, 4]
</code></pre>
<p><img src="https://user-images.githubusercontent.com/60086878/103172728-cad33400-4898-11eb-9756-85ffe931a999.png" alt=""></p>
<p>파이썬 객체의 메모리 주소를 확인하는 <code>id()</code> 함수를 이용해 <code>list1</code>와 <code>list2</code>의 주소값을 확인해보면 두 리스트 모두 4552076160로 같은 주소값을 가지는 것을 확인할 수 있다. 엄밀히 말해서 list2는 list1의 분신과 같은 존재이고, 일반적으로 우리가 원하는 복사는 이뤄지지 않은 것이다.</p>
<h2 id="%EA%B7%B8%EB%9F%BC-%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%95%B4%EC%95%BC-%ED%95%98%EB%8A%94%EB%8D%B0-%F0%9F%98%B2%E2%9D%93">그럼 어떻게 해야 하는데 😲❓</h2>
<p><img src="https://user-images.githubusercontent.com/60086878/103172734-d4f53280-4898-11eb-8630-f6b9dd23b2ca.png" alt=""></p>
<p>앞서 살펴본 문제점과 같이 우리가 원하는 복사가 이뤄지지 않았던 이유는 <code>list1</code>와 <code>list2</code> 두 변수가 같은 메모리를 참조하기 때문이다. 결국 우리가 원하는 복사가 이뤄지기 위해서는 <code>list1</code>와 <code>list2</code>이 서로 다른 메모리를 참조하도록 해주면 된다. 파이썬 리스트를 다른 리스트에 복사하는 방법은 4가지가 있다.</p>
<h3 id="1)-%EC%8A%AC%EB%9D%BC%EC%9D%B4%EC%8B%B1">1) 슬라이싱</h3>
<pre class="hljs"><code>&gt;&gt;&gt; list1 = [1, 2, 3, 4]
&gt;&gt;&gt; list2 = list1[:]
</code></pre>
<p>시작점과 끝점을 생략한 슬라이싱은 리스트의 모든 요소를 뜻한다. 슬라이싱을 통해 변수를 정의하면 파이썬은 새로운 객체를 만든다.</p>
<h3 id="2)-list()-%ED%95%A8%EC%88%98">2) list() 함수</h3>
<pre class="hljs"><code>&gt;&gt;&gt; list1 = [1, 2, 3, 4]
&gt;&gt;&gt; list2 = list(list1)
</code></pre>
<p>파이썬 내장함수 중에는 iterable한 객체를 리스트 객체로 변환해주는 <code>list()</code> 함수가 있다. 이 함수를 이용해 복사하고자 하는 리스트 객체를 다시 재선언 한다.</p>
<h3 id="3)-copy()-%EB%A9%94%EC%86%8C%EB%93%9C">3) copy() 메소드</h3>
<pre class="hljs"><code>&gt;&gt;&gt; list1 = [1, 2, 3, 4]
&gt;&gt;&gt; list2 = list1.copy()
</code></pre>
<p>Python3 부터 리스트를 다른 리스트에 복사하는 기능인 <code>copy()</code> 메소드가 추가되었다. 가독성을 위한 코드라면 이 방법을 사용하는 것을 권장한다.</p>
<h3 id="4)-%EB%A6%AC%EC%8A%A4%ED%8A%B8-%EC%97%B0%EC%82%B0">4) 리스트 연산</h3>
<pre class="hljs"><code>&gt;&gt;&gt; list1 = [1, 2, 3, 4]
&gt;&gt;&gt; list2 = [] + list1
</code></pre>
<p>리스트 덧셈연산을 이용해 새로운 빈 리스트에 <code>list1</code>의 요소들을 더한다. 새로운 리스트 객체에 <code>list1</code>의 요소들이 더해져 결과적으로 우리가 원하는 복사가 이뤄진다.</p>
<h2 id="%EA%B2%80%EC%A6%9D">검증</h2>
<pre class="hljs"><code>&gt;&gt;&gt; def copy_element(method):
        list1 = [1, 2, 3, 4]
        if method == 1:
            list2 = list1[:]
        elif method == 2:
            list2 = list(list1)
        elif method == 3:
            list2 = list1.copy()
        elif method == 4:
            list2 = [] + list1

        print(f'방법 {method}')
        print('list1 :', list1, '/ id :', id(list1))
        print('list2 :', list2, '/ id :', id(list2))

        list1[0] = 11

        print('list1 :', list1)
        print('list2 :', list2)
        print('')

&gt;&gt;&gt; [copy_element(method) for method in range(1, 5)]
방법 1
list1 : [1, 2, 3, 4] / id : 4552075648
list2 : [1, 2, 3, 4] / id : 4552076096
list1 : [11, 2, 3, 4]
list2 : [1, 2, 3, 4]

방법 2
list1 : [1, 2, 3, 4] / id : 4552076096
list2 : [1, 2, 3, 4] / id : 4552164288
list1 : [11, 2, 3, 4]
list2 : [1, 2, 3, 4]

방법 3
list1 : [1, 2, 3, 4] / id : 4552164288
list2 : [1, 2, 3, 4] / id : 4552076096
list1 : [11, 2, 3, 4]
list2 : [1, 2, 3, 4]

방법 4
list1 : [1, 2, 3, 4] / id : 4552076096
list2 : [1, 2, 3, 4] / id : 4552075648
list1 : [11, 2, 3, 4]
list2 : [1, 2, 3, 4]
</code></pre>
<p>각자의 방법 모두 서로 다른 리스트 객체에 값이 할당되며, list1의 요소에 수정이 일어나도 list2 요소에 영향을 끼치지 않는 독립적인 개체임을 확인할 수 있다.</p>
<h1 id="%EC%B0%B8%EA%B3%A0">참고</h1>
<p><a href="https://www.afternerd.com/blog/python-copy-list/">Python: How to Copy a List? (The Idiomatic Way)</a></p> </section> <section id="article-navigation"> <div class="article-navigation-item article-navigation-next"> <a href="/article/8.html"> <div class="article-navigation-arrow article-navigation-next">＜</div> <div class="article-navigation-content article-navigation-next"> <p class="article-navigation-title">☝️Vi 사용법 완벽 가이드</p> <p class="article-navigation-subtitle">The Perfect Guide for Vim Shortcut</p> </div> </a> </div> <div class="article-navigation-item article-navigation-prev"> <a href="/article/6.html"> <div class="article-navigation-arrow article-navigation-prev">＞</div> <div class="article-navigation-content article-navigation-prev"> <p class="article-navigation-title">⛴AWS EKS 클러스터에 Kubeflow 설치하기</p> <p class="article-navigation-subtitle">ML Toolkit for Kubernetes</p> </div> </a> </div> </section> <section id="article-social-container"> <div id="fb-like" class="fb-like" data-href="https://inkkim.github.io/article/7.html" data-layout="button_count" data-action="like" data-size="small" data-show-faces="true" data-share="true"></div> <a href="https://twitter.com/share" class="twitter-share-button" data-show-count="true"></a> </section> <section id="article-comments"> <script async src="https://utteranc.es/client.js" repo="inkkim/inkkim.github.io-comments" issue-term="pathname" theme="github-light" crossorigin="anonymous">
	</script> </section> <section id="article-list-button-container"> <a href="/articles.html"> <div id="article-list-button">📚</div> </a> </section> </article> </main> <div id="fb-root"></div> <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0"></script> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> <script defer src="/init.ddb7c0df.js"></script>
</body></html>