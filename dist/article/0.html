<!DOCTYPE html><html><head><meta charset="UTF-8"><title> ğŸ˜AWS EC2ì—ì„œ Hadoop êµ¬ì¶• </title><meta name="viewport" content="width=device-width, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta property="og:title" content="ğŸ˜AWS EC2ì—ì„œ Hadoop êµ¬ì¶•"><meta property="og:image" content="https://user-images.githubusercontent.com/60086878/95056968-6fc5f100-0730-11eb-8359-b6f389b8c468.jpeg"><meta property="og:description" content="ë¹…ë°ì´í„° ì¼ë“±ê³µì‹ , ëŒ€ìš©ëŸ‰ ë¶„ì‚° íŒŒì¼ ì‹œìŠ¤í…œ"><meta name="twitter:title" content="ğŸ˜AWS EC2ì—ì„œ Hadoop êµ¬ì¶•"><meta name="twitter:image" content="https://user-images.githubusercontent.com/60086878/95056968-6fc5f100-0730-11eb-8359-b6f389b8c468.jpeg"><meta name="twitter:description" content="ë¹…ë°ì´í„° ì¼ë“±ê³µì‹ , ëŒ€ìš©ëŸ‰ ë¶„ì‚° íŒŒì¼ ì‹œìŠ¤í…œ"><meta name="twitter:card" content="summary_large_image"><meta name="robots" content="index,follow"><link rel="preload" href="/init.366dd74d.css" as="style"><link rel="preload" href="/article.e1e8064f.css" as="style"><link rel="canonical" href="https://inkkim.github.io/article/0.html"><link rel="shortcut icon" href="/favicon.a35c33cf.ico" type="image/x-icon"><link rel="stylesheet" href="/init.366dd74d.css"><link rel="stylesheet" href="/article.e1e8064f.css"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-179600475-1"></script><script>function a(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],a("js",new Date),a("config","UA-179600475-1");</script></head><body> <header id="top-container" role="navigation"> </header> <main id="main-container"> <article id="article-container"> <h1 id="article-title"> ğŸ˜AWS EC2ì—ì„œ Hadoop êµ¬ì¶• </h1> <h2 id="article-subtitle"> ë¹…ë°ì´í„° ì¼ë“±ê³µì‹ , ëŒ€ìš©ëŸ‰ ë¶„ì‚° íŒŒì¼ ì‹œìŠ¤í…œ </h2> <time id="article-date"> 2020.10.18 </time> <section id="article-content-container"> <details><summary>Table of Contents</summary>
<p><div class="table-of-contents"><ul><li><a href="#%F0%9F%90%98-%ED%95%98%EB%91%A1(hadoop)%EC%9D%B4%EB%9E%80-%3F">ğŸ˜ í•˜ë‘¡(Hadoop)ì´ë€ ?</a></li><li><a href="#%ED%95%B5%EC%8B%AC-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8">í•µì‹¬ ì»´í¬ë„ŒíŠ¸</a><ul><li><a href="#%ED%95%98%EB%91%A1-%EB%B6%84%EC%82%B0-%ED%8C%8C%EC%9D%BC-%EC%8B%9C%EC%8A%A4%ED%85%9C(hdfs%2C-hadoop-distributed-file-system)">í•˜ë‘¡ ë¶„ì‚° íŒŒì¼ ì‹œìŠ¤í…œ(HDFS, Hadoop Distributed File System)</a></li><li><a href="#%EC%96%80(yarn%2C-yet-another-resource-negotiator)">ì–€(YARN, Yet Another Resource Negotiator)</a></li><li><a href="#%EB%A7%B5%EB%A6%AC%EB%93%80%EC%8A%A4(mapreduce)">ë§µë¦¬ë“€ìŠ¤(MapReduce)</a></li></ul></li><li><a href="#%EA%B5%AC%EC%B6%95-%EB%B0%A9%EB%B2%95">êµ¬ì¶• ë°©ë²•</a><ul><li><a href="#aws-ec2-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-%EC%83%9D%EC%84%B1">AWS EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„±</a></li><li><a href="#%EB%A6%AC%EB%88%85%EC%8A%A4-%ED%99%98%EA%B2%BD%EC%84%A4%EC%A0%95">ë¦¬ëˆ…ìŠ¤ í™˜ê²½ì„¤ì •</a></li><li><a href="#hadoop-%EC%84%A4%EC%B9%98">Hadoop ì„¤ì¹˜</a></li><li><a href="#%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EB%B3%B5%EC%82%AC">ì´ë¯¸ì§€ ìƒì„± ë° ë³µì‚¬</a></li><li><a href="#hadoop-%EC%8B%A4%ED%96%89">Hadoop ì‹¤í–‰</a></li></ul></li><li><a href="#%EC%B0%B8%EA%B3%A0">ì°¸ê³ </a></li></ul></div></p>
</details>
<h1 id="%F0%9F%90%98-%ED%95%98%EB%91%A1(hadoop)%EC%9D%B4%EB%9E%80-%3F">ğŸ˜ í•˜ë‘¡(Hadoop)ì´ë€ ?</h1>
<ul>
<li>ëŒ€ê·œëª¨ ê²€ìƒ‰ ìƒ‰ì¸ì„ êµ¬ì¶•í•˜ê¸° ìœ„í•´ Javaë¡œ ê°œë°œëœ ì˜¤í”ˆ ì†ŒìŠ¤ ë¶„ì‚° ì»´í“¨íŒ… í”Œë«í¼</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/60086878/96373727-59e11300-11a9-11eb-8e90-87e63b3c40b2.jpg" alt="Hadoop Logo"></p>
<p>í•˜ë‘¡ì˜ ë¡œê³ ì˜ ì½”ë¼ë¦¬ëŠ” ê°œë°œì ë”ê·¸ ì»¤íŒ…ì´ ìì‹ ì˜ ì•„ì´ê°€ ê°€ì§€ê³  ë†€ë˜ ì¥ë‚œê° ì½”ë¼ë¦¬ì˜ ì´ë¦„ì„ ë”°ì„œ í•˜ë‘¡ì´ë¼ëŠ” ì´ë¦„ì„ ì§€ì—ˆë‹¤ê³  í•œë‹¤.f(ê°œë°œìì˜ ë„¤ì´ë° ì„¸ê³„ëŠ” ìƒê°ë³´ë‹¤ ë‹¨ìˆœí•˜ë‹¤.)</p>
<h1 id="%ED%95%B5%EC%8B%AC-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8">í•µì‹¬ ì»´í¬ë„ŒíŠ¸</h1>
<h2 id="%ED%95%98%EB%91%A1-%EB%B6%84%EC%82%B0-%ED%8C%8C%EC%9D%BC-%EC%8B%9C%EC%8A%A4%ED%85%9C(hdfs%2C-hadoop-distributed-file-system)">í•˜ë‘¡ ë¶„ì‚° íŒŒì¼ ì‹œìŠ¤í…œ(HDFS, Hadoop Distributed File System)</h2>
<p>ì•ì„œ ì–¸ê¸‰í–ˆë“¯ì´ í•˜ë‘¡ì€ í™•ì¥ì„±ê³¼ ì¥ì•  í—ˆìš©ì„±ì„ ê°€ì§„ ë¶„ì‚° íŒŒì¼ ì‹œìŠ¤í…œì´ë‹¤. ëŒ€ê·œëª¨ ë°ì´í„°ì…‹ ë¶„ì„ì´ë¼ëŠ” í•˜ë‘¡ì˜ ì›ë˜ ìš©ë„ì— ë§ê²Œ, HDFSëŠ” ì¼ë°˜ì ìœ¼ë¡œ ìƒë‹¹íˆ ê¸´ ìˆœì°¨ ì ‘ê·¼(Sequential Access)ë°©ì‹ì„ í†µí•´ ë””ìŠ¤í¬ì— ë¶ˆë³€ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ”ë° ìµœì í™”ë¼ ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ HDFSëŠ” í•˜ë‘¡ ìŠ¤íƒ ë‚´ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì§€ì›í•˜ëŠ” í•µì‹¬ ê¸°ìˆ ì´ë‹¤.</p>
<ul>
<li>ë°ì´í„°ë¥¼ ì„¤ì • ê°€ëŠ¥í•œ í¬ê¸°ì˜ ë¸”ë¡ìœ¼ë¡œ ë‚˜ëˆ  ì €ì¥ (ê¸°ë³¸ê°’ì€ 128MB)</li>
<li>ë°ì´í„° íšŒë³µì„± ë° ë³‘ë ¬ ì²˜ë¦¬ë¥¼ ìœ„í•´ ì—¬ëŸ¬ ëŒ€ì˜ ì„œë²„ì— ê° ë¸”ë¡ì˜ ë³µì œë³¸(Replica) ì €ì¥</li>
<li>ë§ˆìŠ¤í„° ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ëŠ” ë„¤ì„ë…¸ë“œ(Namenode) í”„ë¡œì„¸ìŠ¤ê°€ íŒŒì¼ì´ ì–´ëŠ ë³µì œë³¸ì— ì†í•˜ëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ì™€ íŒŒì¼ê³¼ ë¸”ë¡ ì‚¬ì´ì˜ ë§¤í•‘ ì •ë³´, íŒŒì¼ ì´ë¦„, ê¶Œí•œ, ì†ì„±, ë³µì œ ê³„ìˆ˜(Replication Factor)ë“± íŒŒì¼ ìì²´ì˜ ë©”íƒ€ ë°ì´í„°ë¥¼ ëª¨ë‘ ê´€ë¦¬</li>
<li>íŒŒì¼ì˜ ì¼ë¶€ë¶„ ìˆ˜ì • ë¯¸ì§€ì›ìœ¼ë¡œ ë¶ˆë³€ì„±ì„ ë³´ì¥í•˜ì—¬ ìˆ˜í‰ì  í™•ì¥ì„±ê³¼ ë°ì´í„° íšŒë³µë ¥ì„ ë¹„êµì  ë‹¨ìˆœí•œ ë°©ë²•ìœ¼ë¡œ íšë“</li>
</ul>
<h2 id="%EC%96%80(yarn%2C-yet-another-resource-negotiator)">ì–€(YARN, Yet Another Resource Negotiator)</h2>
<p>í•˜ë‘¡ì˜ í´ëŸ¬ìŠ¤í„° ê´€ë¦¬ ì‹œìŠ¤í…œìœ¼ë¡œ ê°€ì¥ íš¨ìœ¨ì ì¸ ë°©ë²•ìœ¼ë¡œ ê³„ì‚°, ë¦¬ì†ŒìŠ¤ë¥¼ í• ë‹¹í•˜ê³  ì‚¬ìš©ì ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìŠ¤ì¼€ì¥´ë§í•˜ëŠ” ì‹œìŠ¤í…œì´ë‹¤. ìŠ¤ì¼€ì¥´ë§ê³¼ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ë¡œ ë°ì´í„° ì§€ì—­ì„±ì„ ê·¹ëŒ€í™”í•˜ê³ , ê³„ì‚°ëŸ‰ì´ ë§ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¦¬ì†ŒìŠ¤ë¥¼ ë…ì í•˜ì§€ ì•Šê²Œ ì œì–´ ë° êµì²´ ê°€ëŠ¥í•œ ìŠ¤ì¼€ì¥´ë§ ì‹œìŠ¤í…œì„ ì§€ì›í•œë‹¤. ì‚¬ìš©ìë‹¹ ë¦¬ì†ŒìŠ¤ ì œí•œì´ë‚˜ ì‘ì—… ëŒ€ê¸°ì—´ë‹¹ ë¦¬ì†ŒìŠ¤ í• ë‹¹ëŸ‰ ë“± ê³µìš© ë¦¬ì†ŒìŠ¤ ì‹œìŠ¤í…œì˜ ìŠ¤ì¼€ì¥´ë§ì— í•„ìš”í•œ ê¸°ë³¸ì ì¸ í™˜ê²½ ì„¤ì •ì„ ìŠ¤ì¼€ì¥´ëŸ¬ì— ì…ë ¥í•  ìˆ˜ ìˆë‹¤.</p>
<p><img src="https://user-images.githubusercontent.com/60086878/96365911-08bc2980-117f-11eb-95ac-d37e775255ad.png" alt="Hadoop Logo"></p>
<ul>
<li>
<p>êµ¬ì„±</p>
<ul>
<li>Resource Managerë¼ê³  ë¶ˆë¦¬ëŠ” ë§ˆìŠ¤í„° ë…¸ë“œ
<ul>
<li>í´ëŸ¬ìŠ¤í„° ì „ì²´ì˜ ê³„ì‚° ë¦¬ì†ŒìŠ¤ë¥¼ ê´€ë¦¬í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ê°€ ìš”êµ¬í•œ ë¦¬ì†ŒìŠ¤ë¥¼ Node Managerë¡œë¶€í„° í™•ë³´í•˜ë„ë¡ ìŠ¤ì¼€ì¥´ë§í•¨</li>
<li>ìš”ì²­ëœ Executor ê°œìˆ˜ì™€ CPU ì½”ì–´ì˜ ìˆ˜, ë©”ëª¨ë¦¬ ì–‘ì— ë”°ë¼ Executorë¥¼ í•˜ë‚˜ ì´ìƒì˜ Node Managerë¡œë¶€í„° í™•ë³´í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹</li>
</ul>
</li>
<li>Node Managerë¼ê³  í•˜ëŠ” ì—¬ëŸ¬ ê°œì˜ ì›Œì»¤ ë…¸ë“œ
<ul>
<li>ìì‹ ì´ ì„¤ì¹˜ëœ ë…¸ë“œì˜ ê³„ì‚° ë¦¬ì†ŒìŠ¤ë§Œì„ ê´€ë¦¬</li>
</ul>
</li>
</ul>
</li>
<li>
<p>í´ëŸ¬ìŠ¤í„°ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ì»¨í…Œì´ë„ˆë¡œ ë¶„í• í•˜ê³ , ê¸°ë³¸ì ìœ¼ë¡œ í• ë‹¹ë˜ëŠ” CPU ì½”ì–´ ìˆ˜ì™€ ë©”ëª¨ë¦¬ ìš©ëŸ‰ìœ¼ë¡œ ì •ì˜ë˜ë©° ì¶œê°€ ë¦¬ì†ŒìŠ¤ë¥¼ í¬í•¨í•  ìˆ˜ë„ ìˆìŒ</p>
</li>
<li>
<p>ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆë“¤ì„ ëª¨ë‹ˆí„°ë§í•˜ë©´ì„œ ì»¨í…Œì´ë„ˆê°€ ë¦¬ì†ŒìŠ¤ì˜ ìµœëŒ€ í• ë‹¹ëŸ‰ì„ ì´ˆê³¼í•˜ì§€ ì•Šê²Œ ì–µì œ</p>
</li>
<li>
<p>í´ëŸ¬ìŠ¤í„°ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ì»¨í…Œì´ë„ˆë¡œ ê´€ë¦¬í•¨ìœ¼ë¡œì¨ ë¶„ì‚° ì‹œìŠ¤í…œì„ ì „ì²´ì ìœ¼ë¡œ ì›í™œí•˜ê²Œ ìš´ì˜í•˜ê³ , í´ëŸ¬ìŠ¤í„°ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ë‹¤ìˆ˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ê³µí‰í•œ ë°©ì‹ìœ¼ë¡œ ê³µìœ </p>
</li>
<li>
<p>ì»¨í…Œì´ë„ˆë¥¼ ë¹„ê³µê°œë¡œ ì„¤ì •í•  ìˆ˜ë„ ìˆê³ , ì‚¬ìš©ìê°€ ìš”ì²­í•œ ì‘ì—…ì„ ì ì ˆí•œ ì‹œì ì— ì‹œì‘í•  ìˆ˜ë„ ìˆìŒ</p>
</li>
</ul>
<h2 id="%EB%A7%B5%EB%A6%AC%EB%93%80%EC%8A%A4(mapreduce)">ë§µë¦¬ë“€ìŠ¤(MapReduce)</h2>
<ul>
<li>2004ë…„ êµ¬ê¸€ì—ì„œ ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ ë¶„ì‚°ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë°œí‘œí•œ ëŒ€ìš©ëŸ‰ ë¶„ì‚° ì²˜ë¦¬ í”„ë ˆì„ì›Œí¬</li>
<li>í…Œë¼ë°”ì´íŠ¸ ë˜ëŠ” í˜íƒ€ë°”ì´íŠ¸ ì´ìƒì˜ ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ ì €ë ´í•œ x86 ì„œë²„ë¥¼ í´ëŸ¬ìŠ¤í„°ë§í•´ ë¶„ì‚° ì²˜ë¦¬</li>
<li>ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê¸°ë³¸ ë‹¨ìœ„ëŠ” ë§¤í¼(Mapper)ì™€ ë¦¬ë“€ìŠ¤(Reduce)</li>
<li>ë§µ(Map)ì€ ì‚°ì¬ëœ ë°ì´í„°ë¥¼ í‚¤ì™€ ë²¨ë¥˜ í˜•íƒœë¡œ ì—°ê´€ì„±ì´ ìˆëŠ” ë°ì´í„°ë¡œ ë¬¶ëŠ” ì‘ì—…</li>
<li>ë¦¬ë“€ìŠ¤(Reduce)ëŠ” ë§µ ì‘ì—… ê²°ê³¼ì—ì„œ ì¤‘ë³µ ë°ì´í„°ë¥¼ ì œê±°í•œ í›„ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰</li>
</ul>
<h1 id="%EA%B5%AC%EC%B6%95-%EB%B0%A9%EB%B2%95">êµ¬ì¶• ë°©ë²•</h1>
<ul>
<li>êµ¬ì¶• í™˜ê²½
<ul>
<li>MacOS(Catalina 10.15.5)</li>
<li>AWS EC2
<ul>
<li>t2.small(3EA)</li>
</ul>
</li>
<li>Red Hat Enterprise Linux 8</li>
<li>SSD 30GB</li>
</ul>
</li>
</ul>
<h2 id="aws-ec2-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-%EC%83%9D%EC%84%B1">AWS EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„±</h2>
<ol>
<li>
<p>AWSì—ì„œ ê³„ì •ì„ ìƒì„±í•˜ê³  ë¡œê·¸ì¸ í•œ í›„, AWS Management Console - ì»´í“¨íŒ… - EC2ì— ì ‘ê·¼í•œë‹¤.</p>
</li>
<li>
<p>ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘ì„ ëˆŒëŸ¬, ë‹¤ìŒ ìˆœì„œëŒ€ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.</p>
<ul>
<li>AMI ì„ íƒ</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/60086878/96366595-74a09100-1183-11eb-808b-88dfd2f21adb.png" alt="Amazon Machine Image">
Red Hat Enterprise Linux 8</p>
<ul>
<li>ì¸ìŠ¤í„´ìŠ¤ ìœ í˜• ì„ íƒ</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/60086878/96366700-2e97fd00-1184-11eb-8e1c-7e5d011c7a98.png" alt="AWS On-Demand Pricing">
- ìš”ê¸ˆì´ t2.microì˜ ê²¨ìš° 2ë°° ìˆ˜ì¤€ì¸ t2.small
- AWSì˜ ì‚´ì¸ì ì¸ ìš”ê¸ˆì œì— í”„ë¦¬í‹°ì–´ ê³¼ê¸ˆì„ í”¼í•˜ê¸° ìœ„í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•ì€ í”„ë¦¬í‹°ì–´ê¸‰ë³´ë‹¤ í•œ ë‹¨ê³„ ìƒìœ„ë²„ì „ì¸ t2.smallë¡œ ì§„í–‰</p>
<ul>
<li>
<p>ì¸ìŠ¤í„´ìŠ¤ êµ¬ì„±
1ê°œë¡œ êµ¬ì„±í•˜ì—¬ í•˜ë‘¡ì— í•„ìš”í•œ ì„¤ì •ì„ ëª¨ë‘ ë§ˆì¹œ í›„ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì—¬ ë‚˜ë¨¸ì§€ 2ê°œë¥¼ ë§Œë“¤ ì˜ˆì •</p>
</li>
<li>
<p>ìŠ¤í† ë¦¬ì§€ ì¶”ê°€
30 GB</p>
</li>
<li>
<p>ê²€í† </p>
<ul>
<li>
<p>AWS EC2ë¥¼ ì²˜ìŒ ì´ìš©í•  ê²½ìš°, ìƒˆ í‚¤ í˜ì–´ ìƒì„±ìœ¼ë¡œ í‚¤ í˜ì–´ ì´ë¦„ì„ ì…ë ¥í•œ í›„ í‚¤ í˜ì–´ ë‹¤ìš´ë¡œë“œ</p>
</li>
<li>
<p>ê¸°ì¡´ ìœ ì €ì˜ ê²½ìš°, ê¸°ì¡´ í‚¤ í˜ì–´ ì„ íƒ í›„ ì„ íƒí•œ í‚¤ íŒŒì¼ì— ì—‘ì„¸ìŠ¤ ê°€ëŠ¥ ì—¬ë¶€ ì²´í¬</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>ì¸ìŠ¤í„´ìŠ¤ ì ‘ì†</p>
</li>
</ol>
<p><img src="https://user-images.githubusercontent.com/60086878/96367212-5f2d6600-1187-11eb-8267-241a050a9571.png" alt="IPv4 Public IP"></p>
<ul>
<li>í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ì˜ Public IPë¥¼ ë³µì‚¬í•˜ê³ , í„°ë¯¸ë„ì—ì„œ ssh ëª…ë ¹ì–´ë¥¼ í†µí•´ ì ‘ì†í•œë‹¤.</li>
</ul>
<pre class="hljs"><code>$ ssh -i ./YOUR_KEY.pem ec2-user@PUBLIC_IP
</code></pre>
<p><img src="https://user-images.githubusercontent.com/60086878/96367234-7d936180-1187-11eb-8583-473b718bcc44.png" alt="SSH Access"></p>
<h2 id="%EB%A6%AC%EB%88%85%EC%8A%A4-%ED%99%98%EA%B2%BD%EC%84%A4%EC%A0%95">ë¦¬ëˆ…ìŠ¤ í™˜ê²½ì„¤ì •</h2>
<ol>
<li>SELINUX ë„ê¸°</li>
</ol>
<p>ì›í™œí•œ ì„¤ì¹˜ë¥¼ ìœ„í•´ Red Hat ë³´ì•ˆ ìš”ì†Œì¸ SELINUXë¥¼ ë„ê³  ì§„í–‰</p>
<ul>
<li>etc íŒŒì¼ ìˆ˜ì •ì„ ìœ„í•´ sudo ëª…ë ¹ì–´ë¡œ config íŒŒì¼ ì—´ê¸°</li>
</ul>
<pre class="hljs"><code>$ sudo vi /etc/selinux/config
</code></pre>
<ul>
<li>SELINUX disabled</li>
</ul>
<pre class="hljs"><code>SELINUX=disabled
</code></pre>
<ul>
<li>ë³€ê²½ì‚¬í•­ ì ìš©ì„ ìœ„í•´ ì¬ë¶€íŒ…</li>
</ul>
<pre class="hljs"><code>$ sudo reboot
</code></pre>
<ol start="2">
<li>ë³´ì•ˆìƒ ìƒˆë¡œìš´ ê³„ì •ì„ ìƒì„±</li>
</ol>
<ul>
<li>hadoop ì´ë¦„ìœ¼ë¡œ ìƒˆë¡œìš´ ê³„ì • ìƒì„±</li>
</ul>
<pre class="hljs"><code>$ useradd hadoop
</code></pre>
<ul>
<li>ë¹„ë°€ë²ˆí˜¸ ì„¤ì •</li>
</ul>
<pre class="hljs"><code>$ passwd hadoop
</code></pre>
<ol start="3">
<li>hadoop ê³„ì •ì— sudo ê¶Œí•œ ë¶€ì—¬</li>
</ol>
<ul>
<li>etc íŒŒì¼ ìˆ˜ì •ì„ ìœ„í•´ sudo ëª…ë ¹ì–´ì™€ ì“°ê¸° ê¶Œí•œì—†ì´ ë°”ë¡œ í¸ì§‘í•  ìˆ˜ ìˆëŠ” visud ëª…ë ¹ì–´ë¥¼ í†µí•´ sudoersíŒŒì¼ ì—´ê¸°</li>
</ul>
<pre class="hljs"><code>$ sudo visudo /etc/sudoers
</code></pre>
<ul>
<li>ê³„ì •ê¶Œí•œ ë¶€ì—¬ ëª…ë ¹ ì¶”ê°€</li>
</ul>
<pre class="hljs"><code>hadoop  ALL=(ALL)   ALL
</code></pre>
<p><img src="https://user-images.githubusercontent.com/60086878/96367971-e67cd880-118b-11eb-80ed-635a50aab6ef.png" alt="Add Permission"></p>
<ol start="4">
<li>SSH Key-based ì¸ì¦ ì„¤ì •</li>
</ol>
<p>ê³µê°œí‚¤ë¥¼ ë“±ë¡í•˜ì—¬ ê° ì¸ìŠ¤í„´ìŠ¤ë¼ë¦¬ ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ì§€ì†ì ì¸ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•¨</p>
<ul>
<li>hadoop ê³„ì • ë¡œê·¸ì¸</li>
</ul>
<pre class="hljs"><code>$ su hadoop
</code></pre>
<ul>
<li>SSH Key ìƒì„± (ëª…ë ¹ì–´ ì‹¤í–‰ í›„ ì—”í„°)</li>
</ul>
<pre class="hljs"><code>$ ssh-keygen -t rsa
</code></pre>
<ul>
<li>authorized_keysíŒŒì¼ì— ê³µê°œí‚¤ ì¶”ê°€</li>
</ul>
<pre class="hljs"><code>$ cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh authorized_keys
</code></pre>
<ul>
<li>authorized_keys ê¶Œí•œ ë¶€ì—¬</li>
</ul>
<pre class="hljs"><code>$ chmod 640 ~/.ssh/authorized_keys
</code></pre>
<ul>
<li>ssh ì ‘ì† í™•ì¸</li>
</ul>
<pre class="hljs"><code>$ ssh localhost
</code></pre>
<h2 id="hadoop-%EC%84%A4%EC%B9%98">Hadoop ì„¤ì¹˜</h2>
<ol>
<li>Java ì„¤ì¹˜</li>
</ol>
<p>Hadoopì€ Javaë¡œ ì“°ì—¬ì§„ ì˜¤í”ˆ ì†ŒìŠ¤ì´ë¯€ë¡œ ì‚¬ì „ì— Java ì„¤ì¹˜ í•„ìˆ˜ì´ë‹¤. ë”°ë¼ì„œ Java ë²„ì „ì— ì˜í–¥ì„ ë§ì´ ë°›ìœ¼ë¯€ë¡œ, Hadoop 3.2.1 ë²„ì „ê³¼ í˜¸í™˜ë˜ëŠ” java-1.8.0-openjdk ë²„ì „ ì„¤ì¹˜í•œë‹¤.</p>
<ul>
<li>Java ì„¤ì¹˜</li>
</ul>
<pre class="hljs"><code>$ sudo dnf install java-1.8.0-openjdk ant -y
</code></pre>
<ul>
<li>Java ëª…ë ¹ì–´ë¡œ ì„¤ì¹˜ì—¬ë¶€ í™•ì¸</li>
</ul>
<pre class="hljs"><code>$ java -version
</code></pre>
<ol start="2">
<li>Hadoop ì„¤ì¹˜</li>
</ol>
<p><a href="https://downloads.apache.org/hadoop/common/hadoop-3.2.1/hadoop-3.2.1.tar.gz">Hadoop 3.2.1</a> í•´ë‹¹ ë§í¬ë¥¼ ë³µì‚¬í•˜ì—¬ ì„¤ì¹˜</p>
<ul>
<li>ì›¹ íŒŒì¼ ë‹¤ìš´ë¡œë“œ íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ</li>
</ul>
<pre class="hljs"><code>$ sudo yum install wget
</code></pre>
<ul>
<li>Hadoop ì„¤ì¹˜</li>
</ul>
<pre class="hljs"><code>$ cd ~
$ sudo wget https://downloads.apache.org/hadoop/common/hadoop-3.2.1/hadoop-3.2.1.tar.gz
$ tar -xvzf hadoop-3.2.1.tar.gz
</code></pre>
<ul>
<li>í´ë”ëª… ë³€ê²½</li>
</ul>
<pre class="hljs"><code>$ mv hadoop-3.2.1 hadoop
</code></pre>
<ul>
<li>í™˜ê²½ë³€ìˆ˜ ì„¤ì •</li>
</ul>
<pre class="hljs"><code>$ vi ~/.bashrc
</code></pre>
<ul>
<li>í™˜ê²½ë³€ìˆ˜ ë‚´ìš© ì¶”ê°€</li>
</ul>
<p><a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/ClusterSetup.html">Hadoop Cluster ì„¤ì • ê´€ë ¨ ë©”ë‰´ì–¼</a></p>
<pre class="hljs"><code>export JAVA_HOME=/usr/lib/jvm/jre-1.8.0-openjdk-1.8.0.265.b01-0.el8_2.x86_64
export HADOOP_HOME=/home/hadoop/hadoop
export HADOOP_INSTALL=$HADOOP_HOME
export HADOOP_MAPRED_HOME=$HADOOP_HOME
export HADOOP_COMMON_HOME=$HADOOP_HOME
export HADOOP_HDFS_HOME=$HADOOP_HOME
export HADOOP_YARN_HOME=$HADOOP_HOME
export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native
export PATH=$PATH:$HADOOP_HOME/sbin:$HADOOP_HOME/bin
export HADOOP_OPTS=&quot;-Djava.library.path=$HADOOP_HOME/lib/native&quot;
</code></pre>
<p>JAVA_HOMEì€ /usr/lib/jvm/ ë°‘ì— í´ë”ëª…ìœ¼ë¡œ ì„¤ì •(ë‹¤ìš´ë¡œë“œ ì‹œê¸°ì— ë”°ë¼ ë¹Œë“œ ë²„ì „ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ)</p>
<ul>
<li>í•˜ë‘¡ í™˜ê²½íŒŒì¼ ìˆ˜ì •</li>
</ul>
<pre class="hljs"><code>$ cd ~/hadoop/etc/hadoop
</code></pre>
<ul>
<li>workers ()</li>
</ul>
<pre class="hljs"><code>datanode1
datanode2
</code></pre>
<ul>
<li>core-site.xml</li>
</ul>
<pre class="hljs"><code>&lt;configuration&gt;
 &lt;property&gt;
  &lt;name&gt;fs.defaultFS&lt;/name&gt;
   &lt;value&gt;hdfs://namenode:8020/&lt;/value&gt;
 &lt;/property&gt;
 &lt;property&gt;
  &lt;name&gt;io.file.buffer.size&lt;/name&gt;
   &lt;value&gt;131072&lt;/value&gt;
 &lt;/property&gt;
&lt;/configuration&gt;
</code></pre>
<ul>
<li>hdfs-site.xml</li>
</ul>
<pre class="hljs"><code>&lt;configuration&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.replication&lt;/name&gt;
		&lt;value&gt;1&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.namenode.http-address&lt;/name&gt;
		&lt;value&gt;namenode:50070&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;
		&lt;value&gt;secondnode:50090&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.datanode.http-address&lt;/name&gt;
		&lt;value&gt;0.0.0.0:50010&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;
		&lt;value&gt;file:///home/hadoop/hadoop/data/name1,file:///home/hadoop/hadoop/data/name2&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;
		&lt;value&gt;file:///home/hadoop/hadoop/data&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;dfs.namenode.checkpoint.dir&lt;/name&gt;
		&lt;value&gt;file:///home/hadoop/hadoop/data/namesecondary&lt;/value&gt;
	&lt;/property&gt;
&lt;/configuration&gt;
</code></pre>
<ul>
<li>mapred-site.xml</li>
</ul>
<pre class="hljs"><code>&lt;configuration&gt;
        &lt;property&gt;
                &lt;name&gt;mapreduce.framework.name&lt;/name&gt;
                &lt;value&gt;yarn&lt;/value&gt;
        &lt;/property&gt;
        &lt;property&gt;
                &lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;
                &lt;value&gt;namenode:10020&lt;/value&gt;
        &lt;/property&gt;
        &lt;property&gt;
                &lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;
                &lt;value&gt;namenode:19888&lt;/value&gt;
        &lt;/property&gt;
        &lt;property&gt;
                &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;
                &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;
        &lt;/property&gt;
        &lt;property&gt;
                &lt;name&gt;mapreduce.map.env&lt;/name&gt;
                &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;
        &lt;/property&gt;
        &lt;property&gt;
                &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;
                &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;
        &lt;/property&gt;
&lt;/configuration&gt;
</code></pre>
<ul>
<li>yarn-site.xml</li>
</ul>
<pre class="hljs"><code>&lt;configuration&gt;

&lt;!-- Site specific YARN configuration properties --&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;
		&lt;value&gt;secondnode&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.nodemanager.local-dirs&lt;/name&gt;
		&lt;value&gt;/home/hadoop/hadoop/data/nm&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;
		&lt;value&gt;mapreduce_shuffle&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
		&lt;name&gt;yarn.nodemanager.resource.cpu-vcores&lt;/name&gt;
		&lt;value&gt;2&lt;/value&gt;
	&lt;/property&gt;
&lt;/configuration&gt;
</code></pre>
<ul>
<li>hdfs ì €ì¥ì„ ìœ„í•œ ë””ë ‰í† ë¦¬ ìƒì„±</li>
</ul>
<pre class="hljs"><code>$ cd hadoop
$ mkdir data
</code></pre>
<ul>
<li>ì¢…ë£Œ</li>
</ul>
<pre class="hljs"><code>$ sudo shutdown -h now
</code></pre>
<h2 id="%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EB%B3%B5%EC%82%AC">ì´ë¯¸ì§€ ìƒì„± ë° ë³µì‚¬</h2>
<ol>
<li>ì´ë¯¸ì§€ ë³µì‚¬</li>
</ol>
<ul>
<li>ì¸ìŠ¤í„´ìŠ¤ ëª©ë¡ì—ì„œ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ ì„ íƒ í›„ ë³µì‚¬
<img src="https://user-images.githubusercontent.com/60086878/96369153-55a9fb00-1193-11eb-865d-5a4c82677af9.png" alt="Create AMI"></li>
</ul>
<ol start="2">
<li>AMI ìƒì„±</li>
</ol>
<ul>
<li>
<p>AMI ëª©ë¡ì—ì„œ í•´ë‹¹ ì´ë¯¸ì§€ ìƒì„± (ë‚˜ë¨¸ì§€ êµ¬ì„±ì€ ë™ì¼í•˜ê²Œ í•˜ë˜, ì¸ìŠ¤í„´ìŠ¤ êµ¬ì„±ì€ 2ê°œë¡œ ì§„í–‰)</p>
</li>
<li>
<p>ì¸ìŠ¤í„´ìŠ¤ ëª©ë¡ì—ì„œ ê° ì¸ìŠ¤í„´ìŠ¤ë¥¼ êµ¬ë¶„í•˜ê¸° ì‰½ê²Œ, ì¸ìŠ¤í„´ìŠ¤ ì´ë¦„ì„ ê°ê° Client, Namenode, Secondnodeë¡œ ìˆ˜ì •
<img src="https://user-images.githubusercontent.com/60086878/96369527-7ecb8b00-1195-11eb-9a89-483cc5396bac.png" alt="Set Name"></p>
</li>
<li>
<p>ì´ì „ê³¼ ë™ì¼í•œ ë°©ë²•ìœ¼ë¡œ 3ê°œì˜ í„°ë¯¸ë„ì—ì„œ ê°ê°ì˜ ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì† (ì¸ìŠ¤í„´ìŠ¤ëŠ” ì¬ë¶€íŒ… í›„ Public IPê°€ ì¬í• ë‹¹ë˜ë¯€ë¡œ ì¬í™•ì¸ í›„ ì ‘ì†)</p>
</li>
</ul>
<ol start="3">
<li>hostname ì„¤ì •</li>
</ol>
<ul>
<li>ê°ê°ì˜ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì§„í–‰</li>
</ul>
<pre class="hljs"><code>$ sudo hostnamectl set-hostname client
$ sudo hostnamectl set-hostname namenode
$ sudo hostnamectl set-hostname secondnode
</code></pre>
<ol start="4">
<li>ê°ê°ì˜ ì¸ìŠ¤í„´ìŠ¤ ì—°ê²°</li>
</ol>
<ul>
<li>hosts íŒŒì¼ ì—´ê¸°</li>
</ul>
<pre class="hljs"><code>$ sudo vi /etc/hosts
</code></pre>
<ul>
<li>ê°ê°ì˜ Private IP ì—°ë™ (172.x.x.x)</li>
</ul>
<pre class="hljs"><code>127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
172.31.28.51    client
172.31.18.187   namenode
172.31.18.187   datanode1
172.31.20.195   secondnode
172.31.20.195   datanode2
</code></pre>
<p><img src="https://user-images.githubusercontent.com/60086878/96369633-2943ae00-1196-11eb-951f-b45c8d91a16f.png" alt="Private IP"></p>
<ul>
<li>SSH ì ‘ê·¼ í™•ì¸ (hadoop ê³„ì •ì—ì„œ ì‹¤í–‰)</li>
</ul>
<pre class="hljs"><code>$ ssh client
$ ssh secondnode
$ ssh namenode
</code></pre>
<p>ëª¨ë‘ ì´ìƒì—†ì´ ì—°ê²°ëœë‹¤ë©´ ê°ê°ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì„œë¡œ ì¸ì¦ì—†ì´ í†µì‹ í•  ìˆ˜ ìˆëŠ” ìƒíƒœë¥¼ ì˜ë¯¸</p>
<h2 id="hadoop-%EC%8B%A4%ED%96%89">Hadoop ì‹¤í–‰</h2>
<ol>
<li>Hadoop êµ¬ë™</li>
</ol>
<ul>
<li>hdfs íŒŒì¼ í¬ë§·</li>
</ul>
<pre class="hljs"><code>$ hadoop namenode -format 
</code></pre>
<ul>
<li>dfs(namenode) ì‹œì‘</li>
</ul>
<pre class="hljs"><code>$ start-dfs.sh
$ jps
$ ssh secondnode
$ jps
</code></pre>
<p>namenodeì—ì„œëŠ” jps ëª…ë ¹ì–´ ì‹œ DataNode, NameNodeê°€ ì‹¤í–‰</p>
<p>secondnodeì—ì„œëŠ” jps ëª…ë ¹ì–´ ì‹œ DataNode, SecondaryNameNodeê°€ ì‹¤í–‰</p>
<ul>
<li>yarn(secondnode) ì‹œì‘</li>
</ul>
<pre class="hljs"><code>$ start-yarn.sh
$ jps
</code></pre>
<p>secondnodeì—ì„œ jps ëª…ë ¹ì–´ ì‹œ ì¶”ê°€ë¡œ ResourceManager, NodeManagerê°€ ì‹¤í–‰</p>
<ol start="2">
<li>Hadoop ëª¨ë‹ˆí„°ë§
ì™¸ë¶€ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•  ìˆ˜ ìˆë„ë¡ ë°©í™”ë²½ ì„¤ì •ì„ í†µí•´ íŠ¹ì • IPì™€ í¬íŠ¸ë¥¼ ì„¤ì •í•˜ëŠ” ì‘ì—…ì´ í•„ìš”</li>
</ol>
<ul>
<li>
<p>ë‚´ IP í™•ì¸
<a href="https://www.findip.kr">ë‚´ IP ì£¼ì†Œ í™•ì¸</a></p>
</li>
<li>
<p>ë³´ì•ˆê·¸ë£¹ ì„¤ì • ì ‘ê·¼
<img src="https://user-images.githubusercontent.com/60086878/96371729-2baa0600-119e-11eb-8347-cc7c3548c1fb.png" alt="Security Group"></p>
</li>
<li>
<p>ì¸ìŠ¤í„´ìŠ¤ì˜ ë³´ì•ˆê·¸ë£¹ íƒ­ìœ¼ë¡œ ì ‘ê·¼í•˜ì—¬ ê° ì¸ìŠ¤í„´ìŠ¤ì— í•´ë‹¹í•˜ëŠ” ë³´ì•ˆê·¸ë£¹ì˜ ì¸ë°”ìš´ë“œ ê·œì¹™ í¸ì§‘
<img src="https://user-images.githubusercontent.com/60086878/96371898-12ee2000-119f-11eb-8782-ff4388e21825.png" alt="Setting Security Group"></p>
</li>
</ul>
<p>ì†ŒìŠ¤ëŠ” ê°ì ë³¸ì¸ IP ì£¼ì†Œ/32(eg; 111.222.333.4/32)</p>
<ul>
<li>namenode Public IP:50070</li>
<li>secondnode Public IP:8088
<img src="https://user-images.githubusercontent.com/60086878/96372012-d53dc700-119f-11eb-8dff-a1dd1c25c075.png" alt="Manage Page"></li>
</ul>
<h1 id="%EC%B0%B8%EA%B3%A0">ì°¸ê³ </h1>
<ul>
<li>ì—”í„°í”„ë¼ì´ì¦ˆ ë°ì´í„° í”Œë«í¼ êµ¬ì¶• (ì±…ë§Œ)</li>
<li><a href="http://www.dbguide.net/db.db?cmd=view&amp;boardUid=187336&amp;boardConfigUid=9&amp;categoryUid=1459&amp;boardIdx=158&amp;boardStep=1">ë°ì´í„°ì‹¤ë¬´ ê¸°ìˆ  ê°€ì´ë“œ &gt; ë°ì´í„° ì²˜ë¦¬</a> (DBGuide)</li>
<li><a href="https://tecadmin.net/install-hadoop-centos-8/">How To Install and Configure Hadoop on CentOS/RHEL 8</a></li>
</ul> </section> <section id="article-navigation"> <div class="article-navigation-item article-navigation-next"> <a href="/article/6.html"> <div class="article-navigation-arrow article-navigation-next">ï¼œ</div> <div class="article-navigation-content article-navigation-next"> <p class="article-navigation-title">AWS EKS í´ëŸ¬ìŠ¤í„°ì— Kubeflow ì„¤ì¹˜í•˜ê¸°</p> <p class="article-navigation-subtitle">ML Toolkit for Kubernetes</p> </div> </a> </div> </section> <section id="article-social-container"> <div id="fb-like" class="fb-like" data-href="https://inkkim.github.io/article/0.html" data-layout="button_count" data-action="like" data-size="small" data-show-faces="true" data-share="true"></div> <a href="https://twitter.com/share" class="twitter-share-button" data-show-count="true"></a> </section> <section id="article-comments"> <script async src="https://utteranc.es/client.js" repo="inkkim/inkkim.github.io-comments" issue-term="pathname" theme="github-light" crossorigin="anonymous">
	</script> </section> <section id="article-list-button-container"> <a href="/articles.html"> <div id="article-list-button">ğŸ“š</div> </a> </section> </article> </main> <div id="fb-root"></div> <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0"></script> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> <script defer src="/init.ddb7c0df.js"></script>
</body></html>