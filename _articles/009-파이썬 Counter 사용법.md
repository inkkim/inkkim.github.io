---
id: 9
title: "ğŸíŒŒì´ì¬ Counter ì‚¬ìš©ë²•"
subtitle: "Counter function in collections module"
date: "2020.12.30"
tags: "íŒŒì´ì¬, Counter, collections"
---

# ì™„ì£¼í•˜ì§€ ëª»í•œ ì„ ìˆ˜
![](https://user-images.githubusercontent.com/60086878/103338570-22081d00-4ac2-11eb-9c1e-bc934b7dd499.png)

í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì½”ë”©í…ŒìŠ¤íŠ¸ ì—°ìŠµì— ì™„ì£¼í•˜ì§€ ëª»í•œ ì„ ìˆ˜(Lv.1)ë¼ëŠ” ë¬¸ì œê°€ ìˆë‹¤. ì—¬ëŠ ë•Œì™€ ê°™ì´ íŒŒì´ì¬ìœ¼ë¡œ ë¬¸ì œë¥¼ í’€ì´í•˜ëŠ”ë° ì •í™•ì„± í…ŒìŠ¤íŠ¸ëŠ” ëª¨ë‘ í†µê³¼í–ˆì§€ë§Œ íš¨ìœ¨ì„± ê²€ì‚¬ì—ì„œ ëª¨ë‘ ì‹œê°„ ì´ˆê³¼ë¡œ ì‹¤íŒ¨í–ˆë‹¤. ë‚´ê°€ ì²˜ìŒì— í’€ì´í–ˆë˜ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

## list.remove()

![](https://user-images.githubusercontent.com/60086878/103338653-6d223000-4ac2-11eb-9473-82d1ed6d6e2c.png)

ë¦¬ìŠ¤íŠ¸ ìš”ì†Œë¥¼ ì œê±°í•˜ë˜ ì¤‘ë³µì´ ìˆì„ ì‹œ ìµœì´ˆ ë°œê²¬ëœ ìš”ì†Œë§Œ ì‚­ì œí•˜ëŠ” `list.remove()` ë©”ì†Œë“œì˜ íŠ¹ì§•ì„ ì´ìš©í•´ í’€ì´í•˜ë ¤ í–ˆë‹¤. ì •í™•ì„± í…ŒìŠ¤íŠ¸ëŠ” ëª¨ë‘ í†µê³¼í–ˆì§€ë§Œ ì—­ì‹œ íš¨ìœ¨ì„±ì—ì„œ ëª¨ë‘ ì‹œê°„ì´ˆê³¼ë¡œ ì‹¤íŒ¨í•œë‹¤.

ì™œ ê·¸ëŸ°ê°€ ìƒê°í•´ë³´ë©´ `list.remove()`ëŠ” ì‹œê°„ë³µì¡ë„ê°€ O(N)ì´ê³ , ë°˜ë³µë¬¸ì´ í•œ ë²ˆ ë“¤ì–´ê°€ê²Œ ë˜ë‹ˆ O(NÂ²)ì´ ëœë‹¤. ì•„ë§ˆë„ íš¨ìœ¨ì„± ê²€ì‚¬ì—ì„œ O(NÂ²)ì´ë©´ ì‹¤íŒ¨í•˜ê²Œ ë§Œë“œëŠ” ì¼€ì´ìŠ¤ê°€ ìˆëŠ” ê²ƒìœ¼ë¡œ ì¶”ì •ëœë‹¤.

## list.sort()
![](https://user-images.githubusercontent.com/60086878/103339676-592bfd80-4ac5-11eb-84da-625403ecc65d.png)

`list.sort()` ë©”ì†Œë“œë¥¼ ì´ìš©í•´ ì •ë ¬í•˜ê³ , ê°™ì€ ì¸ë±ìŠ¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¹„êµí•˜ë©´ì„œ ë‹¤ë¥¸ ìš”ì†Œê°€ ë‚˜ì˜¬ ë•Œê¹Œì§€ ë¹„êµí•´ êµ¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í’€ì—ˆë”ë‹ˆ ì •í™•ì„±ê³¼ íš¨ìœ¨ì„± ëª¨ë‘ í†µê³¼í•  ìˆ˜ ìˆì—ˆë‹¤.

## collections.Counter()

![image](https://user-images.githubusercontent.com/60086878/103340597-c5a7fc00-4ac7-11eb-98dd-022872c51bde.png)

`collections.Counter()` ë©”ì†Œë“œëŠ” iterable ê°ì²´ ì¦‰, list, dict, set, str, bytes, tuple, rangeì™€ ê°™ì€ ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´ì˜ ìš”ì†Œë¥¼ ì¹´ìš´íŠ¸í•˜ì—¬ ê°ê°ì˜ ë¹ˆë„ ê°’ì„ {ìš”ì†Œ:ë¹ˆë„} í˜•íƒœì¸ í•´ì‰¬ í…Œì´ë¸”í˜•íƒœ(ì¹´ìš´í„° ê°ì²´)ë¡œ ë°˜í™˜í•œë‹¤. 

ì´ ë¬¸ì œë¥¼ í’€ë©´ì„œ ë‚˜ë¦„ ê½¤ë¥¼ ìƒê°í•´ë‚´ë‹¤ê°€ ë¦¬ìŠ¤íŠ¸ë‚˜ ë”•ì…”ë„ˆë¦¬ ê°ì²´ë„ ëº„ì…ˆ ì—°ì‚°ì´ ë˜ë©´ ì¢‹ê² ë‹¤ ìƒê°í–ˆë‹¤. ì•ˆíƒ€ê¹ê²Œë„ ë¦¬ìŠ¤íŠ¸ë‚˜ ë”•ì…”ë„ˆë¦¬ë¥¼ ëº„ì…ˆ ì—°ì‚°ì„ ì§€ì›í•˜ì§€ ì•Šì§€ë§Œ, ì¹´ìš´í„° ê°ì²´ëŠ” ì¶”ê°€ì ì¸ ì—°ì‚°ì„ ì§€ì›í•œë‹¤. 

```python
>>> c = Counter(a=3, b=1)       # Counter({'a': 3, 'b': 1})
>>> d = Counter(a=1, b=2)       # Counter({'a': 1, 'b': 2})

>>> c + d                       
Counter({'a': 4, 'b': 3})

>>> c - d                       
Counter({'a': 2})

>>> c & d                       # intersection:  min(c[x], d[x]) 
Counter({'a': 1, 'b': 1})

>>> c | d                       # union:  max(c[x], d[x])
Counter({'a': 3, 'b': 2})
```

ì´ ì™¸ì—ë„ `collections.Counter()` ë©”ì†Œë“œëŠ” ìì—°ì–´ ì²˜ë¦¬ ì‹œ Word Countë¥¼ ì‰½ê²Œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆê³ , ì‹¬ì§€ì–´ ì‹œê°„ë³µì¡ë„ëŠ” O(N)ìœ¼ë¡œ ì†ë„ë„ ë¹ ë¥´ë‹¤. ì•ìœ¼ë¡œë„ ë‹¤ì–‘í•œ ìƒí™©ì—ì„œ ì˜ ì¨ë¨¹ì„ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤ ğŸ˜‹

# Counter() ê°ì²´

## ìƒì„±

Counter() ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. countëŠ” 0 ì´í•˜ì˜ ìŒìˆ˜ë„ ë  ìˆ˜ ìˆìœ¼ë©°, dictionaryì™€ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§„ë‹¤.

```python
>>> c = Counter()                             # ë¹ˆ ì¹´ìš´í„° ê°ì²´ ìƒì„±
Counter()

>>> c = Counter('abbcccdddd')                 # iterable ê°ì²´ë¡œë¶€í„° ìƒì„±
Counter({'d': 4, 'c': 3, 'b': 2, 'a': 1})

>>> c = Counter({'one': 4, 'two': 2})         # mappingì„ í†µí•´ ìƒì„±
Counter({'one': 4, 'two': 2})

>>> c = Counter(cats=4, dogs=8)               # ë§¤ê°œë³€ìˆ˜ë¥¼ í†µí•´ ìƒì„± 
Counter({'dogs': 8, 'cats': 4})
```

ë˜í•œ, 3 ê°€ì§€ ë©”ì†Œë“œë¥¼ í†µí•´ í•„ìš”í•œ ì—°ì‚°ì„ ì§€ì›í•œë‹¤.

## ë©”ì†Œë“œ

### Counter.elements()
Counter ê°ì²´ì˜ ì •ë³´ì— ë”°ë¥¸ ë¦¬ìŠ¤íŠ¸ ë°˜í™˜ (ì–‘ìˆ˜ë§Œ)
```python
>>> c = Counter(a=4, b=2, c=0, d=-2)
Counter({'a': 4, 'b': 2, 'c': 0, 'd': -2})

>>> sorted(c.elements())
['a', 'a', 'a', 'a', 'b', 'b']
```

### Counter.most_common([n])
Counter ê°ì²´ì˜ countì˜ ë¹ˆë„ ìƒìœ„ nê°œì˜ ê°’ ë°˜í™˜í•˜ëŠ” ë©”ì†Œë“œ

```python
>>> Counter('abracadabra').most_common(3)
[('a', 5), ('b', 2), ('r', 2)]
```

### Counter.update()
Counter ê°ì²´ì— ëŒ€í•˜ì—¬ ë‹¤ë¥¸ mapping ë° Counter ê°ì²´ ì •ë³´ë¥¼ ë§ì…ˆ ì—°ì‚°í•˜ëŠ” ë©”ì†Œë“œ
```python
>>> c = Counter(a=4, b=2, c=0, d=-2)
>>> d = Counter(a=1, b=2, c=3, d=4)
>>> c.update(d)
>>> c
Counter({'a': 5, 'b': 4, 'c': 3, 'd': 2})
```

### Counter.substract()
Counter ê°ì²´ì— ëŒ€í•˜ì—¬ ë‹¤ë¥¸ mapping ë° Counter ê°ì²´ ì •ë³´ë¥¼ ëº„ì…ˆ ì—°ì‚°í•˜ëŠ” ë©”ì†Œë“œ
```python
>>> c = Counter(a=4, b=2, c=0, d=-2)
>>> d = Counter(a=1, b=2, c=3, d=4)
>>> c.subtract(d)
>>> c
Counter({'a': 3, 'b': 0, 'c': -3, 'd': -6})
```

### ê¸°íƒ€
ì´ì™¸ì—ë„ Counter ê°ì²´ëŠ” ë”•ì…”ë„ˆë¦¬ì™€ ìœ ì‚¬í•œ ë©”ì†Œë“œë¥¼ ì§€ì›í•œë‹¤.
```python
>>> c = Counter(a=4, b=2, c=0, d=-2)
>>> c.values()                          # count ê°’ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜
>>> c.items()                           # (element, count) ê°’ íŠœí”Œë¡œ ë°˜í™˜
>>> c.clear()                           # count ê°’ ëª¨ë‘ ë¦¬ì…‹ (ë¹ˆ ì¹´ìš´í„° ê°ì²´ ë°˜í™˜)
>>> list(c)                             # element ê°’ listë¡œ ë°˜í™˜
>>> set(c)                              # element ê°’ setìœ¼ë¡œ ë°˜í™˜
>>> dict(c)                             # {element, count} ê°’ ë”•ì…”ë„ˆë¦¬ë¡œ ë°˜í™˜
>>> +c                                  # count ê°’ì´ ì–‘ìˆ˜ ê°’ì— í•´ë‹¹í•˜ëŠ” ìŒë§Œ ë°˜í™˜
```


# ì°¸ê³ 
- [collections Container datatypes](https://docs.python.org/3/library/collections.html#collections.Counter)